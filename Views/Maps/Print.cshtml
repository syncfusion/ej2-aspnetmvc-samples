@using Syncfusion.EJ2
@using Syncfusion.EJ2.Maps
@section ControlsSection{
    <style>
        #control-container {
            padding: 0px !important;
        }

        #button-control {
            width: 100%;
            text-align: center;
        }

        .e-play-icon::before {
            content: '\e813';
        }

        #container {
            display: table;
            margin: 0 auto;
        }
    </style>
    <div class="col-lg-9 control-section">
        <div id="outer" style="width:100%">
            <div class="content-wrapper">
                @Html.EJS().Maps("container").Load("loadMaps").Format("n").UseGroupingSeparator(true).TitleSettings(title => title.Text("State-wise US population - 2010").TextStyle(new MapsFont{ Size = "16px", Opacity = 1 })
            ).LegendSettings(new Syncfusion.EJ2.Maps.MapsLegendSettings
            {
                Visible = true,
                Mode = Syncfusion.EJ2.Maps.LegendMode.Interactive,
                Height = "10",
                Alignment = Syncfusion.EJ2.Maps.Alignment.Center,
                Width = "350",
                LabelDisplayMode = Syncfusion.EJ2.Maps.LabelIntersectAction.Trim
            }).ZoomSettings(zoom =>
           zoom.Enable(false)
            ).Layers(new List<Syncfusion.EJ2.Maps.MapsLayer>{
       new Syncfusion.EJ2.Maps.MapsLayer
       {
           ShapeData = ViewBag.ShapeData,
           ShapePropertyPath = "name",
           ShapeDataPath = "name",
           DataSource =ViewBag.data,
           TooltipSettings = new MapsTooltipSettings
           {
               Visible = true, ValuePath = "population",
               Format = "State: ${name} <br> Population: ${population}"
           },
            ShapeSettings = new MapsShapeSettings
           {
                ColorValuePath="population",
                Border = new MapsBorder{
                            Width = 0.5,
                            Color = "gray"
                }

           }
        }}
        ).Render()
                <div style="margin-left:75%">
                    Source:
                    <a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_population" target="_blank">en.wikipedia.org</a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 property-section">
        <table id="property" title="Properties" style="width: 100%">
            <tr id="button-control" style="height: 50px">
                <td align='center'>
                    <div>
                        @Html.EJS().Button("togglebtn").IconCss("e-icons e-play-icon").Content("Print").CssClass("e-flat").Render()
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <script>
        var maps;
        function loadMaps(args) {
            var theme = location.hash.split('/')[1];
            theme = theme ? theme : 'Material';
            args.maps.theme = (theme.charAt(0).toUpperCase() + theme.slice(1));
            maps = args.maps;
            args.maps.layers[0].shapeSettings.colorMapping = [
                {
                    from: 580000, to: 2800000, color: '#dae8f1', label: '<3M'
                },
                {
                    from: 2800000, to: 5280000, color: '#b0cde1', label: '3-6M'
                },
                {
                    from: 5280000, to: 8260000, color: '#90bad8', label: '6-9M'
                },
                {
                    from: 8260000, to: 11660000, color: '#6ea7d2', label: '9-12M'
                },
                {
                    from: 11660000, to: 19600000, color: '#4c96cb', label: '12-20M'
                },
                {
                    from: 19600000, to: 26500000, color: '#3182bd', label: '20-25M'
                },
                {
                    from: 26500000, to: 38400000, color: '#004374', label: '>25M'
                }
            ];
        }

        document.getElementById('togglebtn').onclick = function () {
            var map = document.getElementById('container').ej2_instances[0];
            maps.print();
        };
    </script>
}
@section ActionDescription{
    <div id="action-description">
        <p>
            This sample illustrates the print feature in Maps. By clicking the Print button, you can print the maps directly from the browser.
        </p>
    </div>
}
@section Meta{
    <meta name="description" content="This demo for Essential JS2 Maps control illustrates the printing functionality in the maps control." />
}
@section Description{
    <div id="description">
        <p>
            In this example, you can see how to render and configure the print. The rendered chart can be printed directly from the browser by calling the public method
        </p>
        <p>
            Tooltip is enabled in this example. To see the tooltip in action, hover the mouse over a marker or tap a marker in touch enabled devices.
        </p>
        <br />
        <p style="font-weight: 500">Injecting Module</p>
        <p>
            Maps component features are segregated into individual feature-wise modules. To use a legend, inject the <code>Legend</code> module using the <code>Maps.Inject(Legend)</code> method.
        </p>

    </div>
}
